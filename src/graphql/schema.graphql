scalar ObjectID
scalar Timestamp

type User {
    _id: ObjectID
    name: String
}

type Thread {
    _id: ObjectID
    title: String!
    created: Timestamp!
    comments: [Comment]!
}

type Comment {
    user: ObjectID
    text: String!
    replies: [Reply]!
    timestamp: Timestamp!
}

type Reply {
    user: ObjectID
    text: String!
    timestamp: Timestamp!
}

interface Response {
    success: Boolean!
    message: String!
}

type AddUserResponse implements Response {
    success: Boolean!
    message: String!
    data: User
}

type QueryUserResponse implements Response {
    success: Boolean!
    message: String!
    data: User
}

type QueryUsersResponse implements Response {
    success: Boolean!
    message: String!
    data: [User]!
}

type QueryThreadsResponse implements Response {
    success: Boolean!
    message: String!
    data: [Thread]!
}

type QueryThreadResponse implements Response {
    success: Boolean!
    message: String!
    data: Thread
}

type CreateThreadResponse implements Response {
    success: Boolean!
    message: String!
    data: Thread
}

type Query {
    threads: QueryThreadsResponse!
    thread(id: ObjectID!): QueryThreadResponse!
    user(id: ObjectID!): QueryUserResponse!
    users: QueryUsersResponse!
}

type Mutation {
    addUser(name: String!): AddUserResponse!
    createThread(title: String!): CreateThreadResponse!
}
